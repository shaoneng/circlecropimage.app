<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Terms of Use | circlecropimage.app</title>
    <meta name="description" content="Terms of Use for circlecropimage.app - Understand the terms and conditions for using our free online circle crop tool.">
    
    <!-- Tailwind CSS & Google Fonts -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif;
        }
        .dropdown-menu {
            transition: opacity 0.2s ease-out, transform 0.2s ease-out;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 antialiased">

    <div class="container mx-auto max-w-4xl px-4 sm:px-6 lg:px-8 py-12">
        <header class="text-center mb-8 relative">
            <a href="/" class="text-2xl font-bold text-gray-900" data-lang-key="siteName">circlecropimage.app</a>
             <div class="absolute top-0 right-0">
                <div class="relative">
                    <button id="lang-switcher-btn" type="button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500">
                        <span id="current-lang-flag">ğŸ‡ºğŸ‡¸</span>
                        <svg class="w-5 h-5 ml-1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                        </svg>
                    </button>
                    <div id="lang-switcher-menu" class="origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none hidden transform opacity-0 scale-95 dropdown-menu">
                        <div class="py-1" role="menu" aria-orientation="vertical" aria-labelledby="options-menu">
                            <a href="?lang=en" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" role="menuitem" data-lang="en"><span class="mr-3">ğŸ‡ºğŸ‡¸</span> English</a>
                            <a href="?lang=es" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" role="menuitem" data-lang="es"><span class="mr-3">ğŸ‡ªğŸ‡¸</span> EspaÃ±ol</a>
                            <a href="?lang=pt" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" role="menuitem" data-lang="pt"><span class="mr-3">ğŸ‡§ğŸ‡·</span> PortuguÃªs</a>
                            <a href="?lang=ru" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" role="menuitem" data-lang="ru"><span class="mr-3">ğŸ‡·ğŸ‡º</span> Ğ ÑƒÑÑĞºĞ¸Ğ¹</a>
                            <a href="?lang=de" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" role="menuitem" data-lang="de"><span class="mr-3">ğŸ‡©ğŸ‡ª</span> Deutsch</a>
                            <a href="?lang=fr" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" role="menuitem" data-lang="fr"><span class="mr-3">ğŸ‡«ğŸ‡·</span> FranÃ§ais</a>
                            <a href="?lang=ja" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" role="menuitem" data-lang="ja"><span class="mr-3">ğŸ‡¯ğŸ‡µ</span> æ—¥æœ¬èª</a>
                            <a href="?lang=ko" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" role="menuitem" data-lang="ko"><span class="mr-3">ğŸ‡°ğŸ‡·</span> í•œêµ­ì–´</a>
                            <a href="?lang=zh" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" role="menuitem" data-lang="zh"><span class="mr-3">ğŸ‡¨ğŸ‡³</span> ä¸­æ–‡ (ç®€ä½“)</a>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <main class="bg-white p-8 sm:p-12 rounded-2xl shadow-lg">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-900 text-center" data-lang-key="title">Terms of Use</h1>
            <p class="text-center text-gray-500 mt-2 mb-8" data-lang-key="lastUpdated">Last Updated: July 9, 2025</p>

            <div class="bg-blue-50 border border-blue-200 text-blue-800 rounded-lg p-4 mb-8">
                <p data-lang-key="summaryContent">By using circlecropimage.app, you agree to these Terms of Use. Please read them carefully. If you don't agree with these terms, please do not use our service.</p>
            </div>

            <div class="space-y-6 text-gray-700 leading-relaxed">
                <section>
                    <h2 class="text-2xl font-bold text-gray-900 mb-3" data-lang-key="section1Title">1. Acceptance of Terms</h2>
                    <p data-lang-key="section1Content">By accessing or using circlecropimage.app ("the Service"), you agree to be bound by these Terms of Use. These Terms apply to all visitors, users, and others who access or use the Service.</p>
                </section>

                <section>
                    <h2 class="text-2xl font-bold text-gray-900 mb-3" data-lang-key="section2Title">2. Description of Service</h2>
                    <p data-lang-key="section2Content">circlecropimage.app provides a free online tool that allows users to crop images into circular shapes. The Service processes images directly in your browser and does not upload or store your images on our servers.</p>
                </section>

                <section>
                    <h2 class="text-2xl font-bold text-gray-900 mb-3" data-lang-key="section3Title">3. User Conduct and Responsibilities</h2>
                    <p data-lang-key="section3Intro">You agree not to use the Service to:</p>
                    <ul class="list-disc list-inside space-y-2 pl-4">
                        <li data-lang-key="section3Point1">Upload, process, or create any content that is unlawful, harmful, defamatory, obscene, or otherwise objectionable.</li>
                        <li data-lang-key="section3Point2">Infringe upon the intellectual property rights of others, including copyrights, trademarks, or patents.</li>
                        <li data-lang-key="section3Point3">Transmit any viruses, malware, or other malicious code.</li>
                        <li data-lang-key="section3Point4">Attempt to interfere with the proper working of the Service or compromise its security.</li>
                    </ul>
                </section>

                <section>
                    <h2 class="text-2xl font-bold text-gray-900 mb-3" data-lang-key="section4Title">4. Intellectual Property</h2>
                    <p data-lang-key="section4Content">The Service and its original content (excluding user-provided images), features, and functionality are and will remain the exclusive property of circlecropimage.app and its licensors. You retain all rights to the images you process with our tool.</p>
                </section>

                <section>
                    <h2 class="text-2xl font-bold text-gray-900 mb-3" data-lang-key="section5Title">5. Disclaimer of Warranties</h2>
                    <p data-lang-key="section5Content">The Service is provided on an "AS IS" and "AS AVAILABLE" basis. We make no warranties, express or implied, that the Service will be uninterrupted, error-free, or secure. Your use of the Service is at your own risk.</p>
                </section>

                <section>
                    <h2 class="text-2xl font-bold text-gray-900 mb-3" data-lang-key="section6Title">6. Limitation of Liability</h2>
                    <p data-lang-key="section6Content">In no event shall circlecropimage.app be liable for any indirect, incidental, special, or consequential damages arising out of or in connection with your use of the Service.</p>
                </section>
                
                <section>
                    <h2 class="text-2xl font-bold text-gray-900 mb-3" data-lang-key="section7Title">7. Changes to Terms</h2>
                    <p data-lang-key="section7Content">We reserve the right to modify or replace these Terms at any time. We will provide notice of any changes by updating the "Last Updated" date on this page. Your continued use of the Service after any such changes constitutes your acceptance of the new Terms.</p>
                </section>

                <section>
                    <h2 class="text-2xl font-bold text-gray-900 mb-3" data-lang-key="section8Title">8. Contact Us</h2>
                    <p data-lang-key="section8Content">If you have any questions about these Terms, please contact us at: <a href="mailto:terms@circlecropimage.app" class="text-blue-600 hover:underline">terms@circlecropimage.app</a>.</p>
                </section>
            </div>
        </main>

        <footer class="mt-12 border-t border-gray-200 pt-8">
            <div class="text-center text-gray-500">
                <div class="flex justify-center gap-x-6 mb-4">
                   <a href="/" class="text-sm hover:underline" data-lang-key="homeLink">Home</a>
                   <a href="/privacy.html" class="text-sm hover:underline" data-lang-key="privacyLink">Privacy Policy</a>
                   <a href="/terms.html" class="text-sm hover:underline" data-lang-key="termsLink">Terms of Service</a>
                </div>
                <p>&copy; <span id="footer-year"></span> <span data-lang-key="siteName"></span>. <span data-lang-key="footerRights">All rights reserved.</span></p>
            </div>
        </footer>
    </div>
    
    <script>
        const translations = {
            en: {
                siteName: "circlecropimage.app",
                title: "Terms of Use",
                lastUpdated: "Last Updated: July 9, 2025",
                summaryContent: "By using circlecropimage.app, you agree to these Terms of Use. Please read them carefully. If you don't agree with these terms, please do not use our service.",
                section1Title: "1. Acceptance of Terms",
                section1Content: "By accessing or using circlecropimage.app (\"the Service\"), you agree to be bound by these Terms of Use. These Terms apply to all visitors, users, and others who access or use the Service.",
                section2Title: "2. Description of Service",
                section2Content: "circlecropimage.app provides a free online tool that allows users to crop images into circular shapes. The Service processes images directly in your browser and does not upload or store your images on our servers.",
                section3Title: "3. User Conduct and Responsibilities",
                section3Intro: "You agree not to use the Service to:",
                section3Point1: "Upload, process, or create any content that is unlawful, harmful, defamatory, obscene, or otherwise objectionable.",
                section3Point2: "Infringe upon the intellectual property rights of others, including copyrights, trademarks, or patents.",
                section3Point3: "Transmit any viruses, malware, or other malicious code.",
                section3Point4: "Attempt to interfere with the proper working of the Service or compromise its security.",
                section4Title: "4. Intellectual Property",
                section4Content: "The Service and its original content (excluding user-provided images), features, and functionality are and will remain the exclusive property of circlecropimage.app and its licensors. You retain all rights to the images you process with our tool.",
                section5Title: "5. Disclaimer of Warranties",
                section5Content: "The Service is provided on an \"AS IS\" and \"AS AVAILABLE\" basis. We make no warranties, express or implied, that the Service will be uninterrupted, error-free, or secure. Your use of the Service is at your own risk.",
                section6Title: "6. Limitation of Liability",
                section6Content: "In no event shall circlecropimage.app be liable for any indirect, incidental, special, or consequential damages arising out of or in connection with your use of the Service.",
                section7Title: "7. Changes to Terms",
                section7Content: "We reserve the right to modify or replace these Terms at any time. We will provide notice of any changes by updating the \"Last Updated\" date on this page. Your continued use of the Service after any such changes constitutes your acceptance of the new Terms.",
                section8Title: "8. Contact Us",
                section8Content: "If you have any questions about these Terms, please contact us at: <a href='mailto:terms@circlecropimage.app' class='text-blue-600 hover:underline'>terms@circlecropimage.app</a>.",
                homeLink: "Home",
                privacyLink: "Privacy Policy",
                termsLink: "Terms of Service",
                footerRights: "All rights reserved."
            },
            es: {
                siteName: "circlecropimage.app",
                title: "TÃ©rminos de Uso",
                lastUpdated: "Ãšltima actualizaciÃ³n: 9 de julio de 2025",
                summaryContent: "Al usar circlecropimage.app, aceptas estos TÃ©rminos de Uso. Por favor, lÃ©elos atentamente. Si no estÃ¡s de acuerdo con estos tÃ©rminos, no uses nuestro servicio.",
                section1Title: "1. AceptaciÃ³n de los TÃ©rminos",
                section1Content: "Al acceder o usar circlecropimage.app (\"el Servicio\"), aceptas estar sujeto a estos TÃ©rminos de Uso. Estos TÃ©rminos se aplican a todos los visitantes, usuarios y otras personas que accedan o usen el Servicio.",
                section2Title: "2. DescripciÃ³n del Servicio",
                section2Content: "circlecropimage.app proporciona una herramienta en lÃ­nea gratuita que permite a los usuarios recortar imÃ¡genes en formas circulares. El Servicio procesa las imÃ¡genes directamente en tu navegador y no sube ni almacena tus imÃ¡genes en nuestros servidores.",
                section3Title: "3. Conducta y Responsabilidades del Usuario",
                section3Intro: "Aceptas no usar el Servicio para:",
                section3Point1: "Cargar, procesar o crear cualquier contenido que sea ilegal, daÃ±ino, difamatorio, obsceno o de cualquier otra manera objetable.",
                section3Point2: "Infringir los derechos de propiedad intelectual de otros, incluidos los derechos de autor, marcas comerciales o patentes.",
                section3Point3: "Transmitir virus, malware u otro cÃ³digo malicioso.",
                section3Point4: "Intentar interferir con el funcionamiento adecuado del Servicio o comprometer su seguridad.",
                section4Title: "4. Propiedad Intelectual",
                section4Content: "El Servicio y su contenido original (excluyendo las imÃ¡genes proporcionadas por el usuario), caracterÃ­sticas y funcionalidad son y seguirÃ¡n siendo propiedad exclusiva de circlecropimage.app y sus licenciantes. Conservas todos los derechos sobre las imÃ¡genes que procesas con nuestra herramienta.",
                section5Title: "5. ExclusiÃ³n de GarantÃ­as",
                section5Content: "El Servicio se proporciona \"TAL CUAL\" y \"SEGÃšN DISPONIBilidad\". No ofrecemos garantÃ­as, expresas o implÃ­citas, de que el Servicio serÃ¡ ininterrumpido, libre de errores o seguro. El uso del Servicio es bajo tu propio riesgo.",
                section6Title: "6. LimitaciÃ³n de Responsabilidad",
                section6Content: "En ningÃºn caso circlecropimage.app serÃ¡ responsable por daÃ±os indirectos, incidentales, especiales o consecuentes que surjan de o en conexiÃ³n con tu uso del Servicio.",
                section7Title: "7. Cambios en los TÃ©rminos",
                section7Content: "Nos reservamos el derecho de modificar o reemplazar estos TÃ©rminos en cualquier momento. Notificaremos cualquier cambio actualizando la fecha de \"Ãšltima ActualizaciÃ³n\" en esta pÃ¡gina. Tu uso continuado del Servicio despuÃ©s de dichos cambios constituye tu aceptaciÃ³n de los nuevos TÃ©rminos.",
                section8Title: "8. ContÃ¡ctanos",
                section8Content: "Si tienes alguna pregunta sobre estos TÃ©rminos, contÃ¡ctanos en: <a href='mailto:terms@circlecropimage.app' class='text-blue-600 hover:underline'>terms@circlecropimage.app</a>.",
                homeLink: "Inicio",
                privacyLink: "PolÃ­tica de Privacidad",
                termsLink: "TÃ©rminos de Uso",
                footerRights: "Todos los derechos reservados."
            },
            zh: {
                siteName: "circlecropimage.app",
                title: "æœåŠ¡æ¡æ¬¾",
                lastUpdated: "æœ€åæ›´æ–°äºï¼š2025å¹´7æœˆ9æ—¥",
                summaryContent: "ä½¿ç”¨ circlecropimage.appï¼Œå³è¡¨ç¤ºæ‚¨åŒæ„è¿™äº›æœåŠ¡æ¡æ¬¾ã€‚è¯·ä»”ç»†é˜…è¯»ã€‚å¦‚æœæ‚¨ä¸åŒæ„è¿™äº›æ¡æ¬¾ï¼Œè¯·ä¸è¦ä½¿ç”¨æˆ‘ä»¬çš„æœåŠ¡ã€‚",
                section1Title: "1. æ¥å—æ¡æ¬¾",
                section1Content: "é€šè¿‡è®¿é—®æˆ–ä½¿ç”¨ circlecropimage.appï¼ˆâ€œæœ¬æœåŠ¡â€ï¼‰ï¼Œæ‚¨åŒæ„å—æœ¬æœåŠ¡æ¡æ¬¾çš„çº¦æŸã€‚æœ¬æ¡æ¬¾é€‚ç”¨äºæ‰€æœ‰è®¿é—®æˆ–ä½¿ç”¨æœ¬æœåŠ¡çš„è®¿å®¢ã€ç”¨æˆ·åŠå…¶ä»–äººå£«ã€‚",
                section2Title: "2. æœåŠ¡è¯´æ˜",
                section2Content: "circlecropimage.app æä¾›ä¸€ä¸ªå…è´¹çš„åœ¨çº¿å·¥å…·ï¼Œå…è®¸ç”¨æˆ·å°†å›¾ç‰‡è£å‰ªæˆåœ†å½¢ã€‚æœ¬æœåŠ¡ç›´æ¥åœ¨æ‚¨çš„æµè§ˆå™¨ä¸­å¤„ç†å›¾ç‰‡ï¼Œä¸ä¼šåœ¨æˆ‘ä»¬çš„æœåŠ¡å™¨ä¸Šä¼ æˆ–å­˜å‚¨æ‚¨çš„å›¾ç‰‡ã€‚",
                section3Title: "3. ç”¨æˆ·è¡Œä¸ºä¸è´£ä»»",
                section3Intro: "æ‚¨åŒæ„ä¸ä½¿ç”¨æœ¬æœåŠ¡è¿›è¡Œä»¥ä¸‹æ´»åŠ¨ï¼š",
                section3Point1: "ä¸Šä¼ ã€å¤„ç†æˆ–åˆ›å»ºä»»ä½•éæ³•ã€æœ‰å®³ã€è¯½è°¤ã€æ·«ç§½æˆ–å…¶ä»–ä»¤äººåæ„Ÿçš„å†…å®¹ã€‚",
                section3Point2: "ä¾µçŠ¯ä»–äººçš„çŸ¥è¯†äº§æƒï¼ŒåŒ…æ‹¬ç‰ˆæƒã€å•†æ ‡æˆ–ä¸“åˆ©ã€‚",
                section3Point3: "ä¼ æ’­ä»»ä½•ç—…æ¯’ã€æ¶æ„è½¯ä»¶æˆ–å…¶ä»–æ¶æ„ä»£ç ã€‚",
                section3Point4: "è¯•å›¾å¹²æ‰°æœ¬æœåŠ¡çš„æ­£å¸¸å·¥ä½œæˆ–å±åŠå…¶å®‰å…¨ã€‚",
                section4Title: "4. çŸ¥è¯†äº§æƒ",
                section4Content: "æœ¬æœåŠ¡åŠå…¶åŸåˆ›å†…å®¹ï¼ˆä¸åŒ…æ‹¬ç”¨æˆ·æä¾›çš„å›¾ç‰‡ï¼‰ã€åŠŸèƒ½å’Œç‰¹æ€§æ˜¯å¹¶å°†ç»§ç»­æ˜¯ circlecropimage.app åŠå…¶è®¸å¯æ–¹çš„ä¸“æœ‰è´¢äº§ã€‚æ‚¨ä¿ç•™å¯¹ä½¿ç”¨æˆ‘ä»¬å·¥å…·å¤„ç†çš„å›¾ç‰‡çš„æ‰€æœ‰æƒåˆ©ã€‚",
                section5Title: "5. å…è´£å£°æ˜",
                section5Content: "æœ¬æœåŠ¡ä»¥â€œç°çŠ¶â€å’Œâ€œç°æœ‰â€ä¸ºåŸºç¡€æä¾›ã€‚æˆ‘ä»¬ä¸ä½œä»»ä½•æ˜ç¤ºæˆ–æš—ç¤ºçš„ä¿è¯ï¼Œä¿è¯æœ¬æœåŠ¡ä¸ä¼šä¸­æ–­ã€æ— é”™è¯¯æˆ–å®‰å…¨ã€‚æ‚¨ä½¿ç”¨æœ¬æœåŠ¡çš„é£é™©ç”±æ‚¨è‡ªè¡Œæ‰¿æ‹…ã€‚",
                section6Title: "6. è´£ä»»é™åˆ¶",
                section6Content: "åœ¨ä»»ä½•æƒ…å†µä¸‹ï¼Œcirclecropimage.app å‡ä¸å¯¹å› æ‚¨ä½¿ç”¨æœ¬æœåŠ¡æˆ–ä¸ä¹‹ç›¸å…³è€Œäº§ç”Ÿçš„ä»»ä½•é—´æ¥ã€é™„å¸¦ã€ç‰¹æ®Šæˆ–åæœæ€§æŸå®³è´Ÿè´£ã€‚",
                section7Title: "7. æ¡æ¬¾å˜æ›´",
                section7Content: "æˆ‘ä»¬ä¿ç•™éšæ—¶ä¿®æ”¹æˆ–æ›¿æ¢æœ¬æ¡æ¬¾çš„æƒåˆ©ã€‚æˆ‘ä»¬å°†é€šè¿‡æ›´æ–°æœ¬é¡µé¢çš„â€œæœ€åæ›´æ–°äºâ€æ—¥æœŸæ¥é€šçŸ¥ä»»ä½•å˜æ›´ã€‚æ‚¨åœ¨ä»»ä½•æ­¤ç±»å˜æ›´åç»§ç»­ä½¿ç”¨æœ¬æœåŠ¡å³è¡¨ç¤ºæ‚¨æ¥å—æ–°æ¡æ¬¾ã€‚",
                section8Title: "8. è”ç³»æˆ‘ä»¬",
                section8Content: "å¦‚æœæ‚¨å¯¹æœ¬æ¡æ¬¾æœ‰ä»»ä½•ç–‘é—®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼ä¸æˆ‘ä»¬è”ç³»ï¼š<a href='mailto:terms@circlecropimage.app' class='text-blue-600 hover:underline'>terms@circlecropimage.app</a>ã€‚",
                homeLink: "ä¸»é¡µ",
                privacyLink: "éšç§æ”¿ç­–",
                termsLink: "æœåŠ¡æ¡æ¬¾",
                footerRights: "ç‰ˆæƒæ‰€æœ‰ã€‚"
            }
        };

        const flags = {
            en: 'ğŸ‡ºğŸ‡¸', es: 'ğŸ‡ªï¿½', pt: 'ğŸ‡§ğŸ‡·', ru: 'ğŸ‡·ğŸ‡º', de: 'ğŸ‡©ğŸ‡ª', fr: 'ğŸ‡«ğŸ‡·', ja: 'ğŸ‡¯ğŸ‡µ', ko: 'ğŸ‡°ğŸ‡·', zh: 'ğŸ‡¨ğŸ‡³'
        };

        document.addEventListener('DOMContentLoaded', function() {
            const langSwitcherBtn = document.getElementById('lang-switcher-btn');
            const langSwitcherMenu = document.getElementById('lang-switcher-menu');
            const currentLangFlag = document.getElementById('current-lang-flag');

            const setLanguage = (lang) => {
                const langCode = translations[lang] ? lang : 'en';
                const langData = translations[langCode] || translations.en;

                document.querySelectorAll('[data-lang-key]').forEach(element => {
                    const key = element.getAttribute('data-lang-key');
                    if (langData[key]) {
                        element.innerHTML = langData[key];
                    }
                });
                
                document.documentElement.lang = langCode;
                currentLangFlag.textContent = flags[langCode];
                langSwitcherMenu.classList.add('hidden', 'opacity-0', 'scale-95');
            };

            langSwitcherBtn.addEventListener('click', () => {
                langSwitcherMenu.classList.toggle('hidden');
                setTimeout(() => {
                    langSwitcherMenu.classList.toggle('opacity-0');
                    langSwitcherMenu.classList.toggle('scale-95');
                }, 10);
            });
            
            document.addEventListener('click', (event) => {
                if (!langSwitcherBtn.contains(event.target) && !langSwitcherMenu.contains(event.target)) {
                    langSwitcherMenu.classList.add('hidden', 'opacity-0', 'scale-95');
                }
            });

            langSwitcherMenu.addEventListener('click', (event) => {
                event.preventDefault();
                const target = event.target.closest('a');
                if (target && target.dataset.lang) {
                    const lang = target.dataset.lang;
                    setLanguage(lang);
                    try {
                        window.history.pushState({}, '', `?lang=${lang}`);
                    } catch (e) {
                        console.warn("Could not update URL with pushState.", e);
                    }
                }
            });

            const urlParams = new URLSearchParams(window.location.search);
            const initialLang = urlParams.get('lang') || 'en';
            setLanguage(initialLang);
            document.getElementById('footer-year').textContent = new Date().getFullYear();
        });
    </script>

</body>
</html>
